{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        id: 1,\n        message: 'Hi, My name is Greg',\n        like: '15'\n      }, {\n        id: 2,\n        message: 'This is my first post',\n        like: '20'\n      }],\n      newPostText: ''\n    },\n    messagesPage: {\n      dialogs: [{\n        id: 1,\n        name: 'Valera'\n      }, {\n        id: 2,\n        name: 'Mark'\n      }, {\n        id: 3,\n        name: 'Elena'\n      }],\n      messages: [{\n        id: 1,\n        message: 'Hy My name is Petr'\n      }, {\n        id: 2,\n        message: 'MI dont belive youark'\n      }, {\n        id: 3,\n        message: 'Elena I dont belive you'\n      }],\n      newMessageBody: ''\n    }\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  _callSubscriber() {\n    return 'state changed';\n  },\n\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n\n  dispatch(action) {\n    if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.text;\n\n      this._callSubscriber(this.getState());\n    } else if (action.type === ADD_POST) {\n      const newPost = {\n        id: this._state.profilePage.posts.length + 1,\n        message: this._state.profilePage.newPostText,\n        like: 0\n      };\n\n      this._state.profilePage.posts.push(newPost);\n\n      this._state.profilePage.newPostText = '';\n\n      this._callSubscriber(this.getState());\n    }\n  }\n\n};\nexport const addPostActionCreate = () => {\n  return {\n    type: ADD_POST\n  };\n};\nexport const onChengeElementActionCreate = text => {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    text\n  };\n};\nexport default store;\nwindow.store = store; // ыутвMessageCreator\n// updateMessageCreator\n//  const state = {\n//     profilePage: {\n//         posts: [\n//             {\n//               id: 1,\n//               message: 'Hi, My name is Greg',\n//               like: '15'\n//             },\n//             {\n//               id: 2,\n//               message: 'This is my first post',\n//               like: '20'\n//             }\n//         ],\n//         newPostText: ''\n//      },\n//      messagesPage: {\n//         dialogs: [\n//             {\n//                 id: 1,\n//                 name: 'Valera'\n//             },\n//             {\n//                 id: 2,\n//                 name: 'Mark'\n//             },\n//             {\n//                 id: 3,\n//                 name: 'Elena'\n//             }\n//         ],\n//         messages: [\n//             {\n//                 id: 1,\n//                 message: 'Hy My name is Petr'\n//             },\n//             {\n//                 id: 2,\n//                 message: 'MI dont belive youark'\n//             },\n//             {\n//                 id: 3,\n//                 message: 'Elena I dont belive you'\n//             }\n//         ]\n//     }\n// }\n// export const addPost = ()=> {\n//     const newPost = {\n//         id: state.profilePage.posts.length+1,\n//         message: state.profilePage.newPostText,\n//         like: 0\n//     }\n//     state.profilePage.posts.push(newPost)\n//     state.profilePage.newPostText = ''\n//     rerenderEntireTree(state)\n// }\n// export const updateNewPostText = (newText)=> {\n//     state.profilePage.newPostText = newText\n//     rerenderEntireTree(state)\n// }\n// export const subscribe = observer => {\n//     rerenderEntireTree = observer\n// }\n//  export default state","map":{"version":3,"sources":["/Volumes/Samsung_T5/mac/Programming/IT_Kamasutra/way_of_samuray/src/Redux/Redux.jsx"],"names":["ADD_POST","UPDATE_NEW_POST_TEXT","store","_state","profilePage","posts","id","message","like","newPostText","messagesPage","dialogs","name","messages","newMessageBody","getState","_callSubscriber","subscribe","observer","dispatch","action","type","text","newPost","length","push","addPostActionCreate","onChengeElementActionCreate","window"],"mappings":"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","sourcesContent":["const ADD_POST = 'ADD-POST'\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\n\nconst store = {\n    _state: {\n        profilePage: {\n            posts: [\n                {\n                  id: 1,\n                  message: 'Hi, My name is Greg',\n                  like: '15'\n                },\n                {\n                  id: 2,\n                  message: 'This is my first post',\n                  like: '20'\n                }\n            ],\n            newPostText: ''\n         },\n         messagesPage: {\n            dialogs: [\n                {\n                    id: 1,\n                    name: 'Valera'\n                },\n                {\n                    id: 2,\n                    name: 'Mark'\n                },\n                {\n                    id: 3,\n                    name: 'Elena'\n                }\n            ],\n            messages: [\n                {\n                    id: 1,\n                    message: 'Hy My name is Petr'\n                },\n                {\n                    id: 2,\n                    message: 'MI dont belive youark'\n                },\n                {\n                    id: 3,\n                    message: 'Elena I dont belive you'\n                }\n            ],\n            newMessageBody: ''\n        }\n    },\n    getState() {\n        return this._state\n    },\n    _callSubscriber() {\n        return ('state changed')\n    },\n    subscribe(observer) {\n        this._callSubscriber = observer\n    },\n    dispatch(action) {\n\n        if (action.type === UPDATE_NEW_POST_TEXT) {\n            this._state.profilePage.newPostText = action.text\n            this._callSubscriber(this.getState())\n        } else if (action.type === ADD_POST) {\n            const newPost = {\n                id: this._state.profilePage.posts.length+1,\n                message: this._state.profilePage.newPostText,\n                like: 0\n            }\n            this._state.profilePage.posts.push(newPost)\n            this._state.profilePage.newPostText = ''\n            this._callSubscriber(this.getState())\n        }\n    }\n}\n\n\n\nexport const addPostActionCreate = ()=> {\n    return {type: ADD_POST}\n}\n  \nexport const onChengeElementActionCreate = (text)=> {\n    return {type: UPDATE_NEW_POST_TEXT, text}\n}\n\n    \nexport default store\nwindow.store = store\n\n\n\n\n\n\n\n\n\n\n\n// ыутвMessageCreator\n// updateMessageCreator\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//  const state = {\n//     profilePage: {\n//         posts: [\n//             {\n//               id: 1,\n//               message: 'Hi, My name is Greg',\n//               like: '15'\n//             },\n//             {\n//               id: 2,\n//               message: 'This is my first post',\n//               like: '20'\n//             }\n//         ],\n//         newPostText: ''\n//      },\n//      messagesPage: {\n//         dialogs: [\n//             {\n//                 id: 1,\n//                 name: 'Valera'\n//             },\n//             {\n//                 id: 2,\n//                 name: 'Mark'\n//             },\n//             {\n//                 id: 3,\n//                 name: 'Elena'\n//             }\n//         ],\n//         messages: [\n//             {\n//                 id: 1,\n//                 message: 'Hy My name is Petr'\n//             },\n//             {\n//                 id: 2,\n//                 message: 'MI dont belive youark'\n//             },\n//             {\n//                 id: 3,\n//                 message: 'Elena I dont belive you'\n//             }\n//         ]\n//     }\n// }\n\n// export const addPost = ()=> {\n//     const newPost = {\n//         id: state.profilePage.posts.length+1,\n//         message: state.profilePage.newPostText,\n//         like: 0\n//     }\n//     state.profilePage.posts.push(newPost)\n//     state.profilePage.newPostText = ''\n//     rerenderEntireTree(state)\n// }\n\n// export const updateNewPostText = (newText)=> {\n//     state.profilePage.newPostText = newText\n//     rerenderEntireTree(state)\n// }\n\n// export const subscribe = observer => {\n//     rerenderEntireTree = observer\n// }\n\n//  export default state"]},"metadata":{},"sourceType":"module"}