{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst SEND_MESSAGE = 'SEND-MESSAGE';\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY';\nconst store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        id: 1,\n        message: 'Hi, My name is Greg',\n        like: '15'\n      }, {\n        id: 2,\n        message: 'This is my first post',\n        like: '20'\n      }],\n      newPostText: ''\n    },\n    messagesPage: {\n      dialogs: [{\n        id: 1,\n        name: 'Valera'\n      }, {\n        id: 2,\n        name: 'Mark'\n      }, {\n        id: 3,\n        name: 'Elena'\n      }],\n      messages: [{\n        id: 1,\n        message: 'Hy My name is Petr'\n      }, {\n        id: 2,\n        message: 'MI dont belive youark'\n      }, {\n        id: 3,\n        message: 'Elena I dont belive you'\n      }],\n      newMessageBody: ''\n    },\n    sidebar: {}\n  },\n\n  _callSubscriber() {\n    return 'state changed';\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n\n  dispatch(action) {\n    if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.text;\n\n      this._callSubscriber(this.getState());\n    } else if (action.type === ADD_POST) {\n      const newPost = {\n        id: this._state.profilePage.posts.length + 1,\n        message: this._state.profilePage.newPostText,\n        like: 0\n      };\n\n      this._state.profilePage.posts.push(newPost);\n\n      this._state.profilePage.newPostText = '';\n\n      this._callSubscriber(this.getState());\n    } else if (action.type === SEND_MESSAGE) {\n      let newPost = {\n        id: this._state.messagesPage.messages.length + 1,\n        message: this._state.messagesPage.newMessageBody\n      };\n      this._state.messagesPage.newMessageBody = '';\n\n      this._state.messagesPage.messages.push(newPost);\n\n      this._callSubscriber(this.getState());\n    } else if (action.type === UPDATE_NEW_MESSAGE_BODY) {\n      this._state.messagesPage.newMessageBody = action.text;\n\n      this._callSubscriber(this.getState());\n    }\n  }\n\n};\nexport const addPostActionCreate = () => ({\n  type: ADD_POST\n});\nexport const onChengeElementActionCreate = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  text\n});\nexport const sendMessageCreator = () => ({\n  type: SEND_MESSAGE\n});\nexport const updateMessageCreator = text => ({\n  type: UPDATE_NEW_MESSAGE_BODY,\n  text\n});\nexport default store;\nwindow.store = store; //  const state = {\n//     profilePage: {\n//         posts: [\n//             {\n//               id: 1,\n//               message: 'Hi, My name is Greg',\n//               like: '15'\n//             },\n//             {\n//               id: 2,\n//               message: 'This is my first post',\n//               like: '20'\n//             }\n//         ],\n//         newPostText: ''\n//      },\n//      messagesPage: {\n//         dialogs: [\n//             {\n//                 id: 1,\n//                 name: 'Valera'\n//             },\n//             {\n//                 id: 2,\n//                 name: 'Mark'\n//             },\n//             {\n//                 id: 3,\n//                 name: 'Elena'\n//             }\n//         ],\n//         messages: [\n//             {\n//                 id: 1,\n//                 message: 'Hy My name is Petr'\n//             },\n//             {\n//                 id: 2,\n//                 message: 'MI dont belive youark'\n//             },\n//             {\n//                 id: 3,\n//                 message: 'Elena I dont belive you'\n//             }\n//         ]\n//     }\n// }\n// export const addPost = ()=> {\n//     const newPost = {\n//         id: state.profilePage.posts.length+1,\n//         message: state.profilePage.newPostText,\n//         like: 0\n//     }\n//     state.profilePage.posts.push(newPost)\n//     state.profilePage.newPostText = ''\n//     rerenderEntireTree(state)\n// }\n// export const updateNewPostText = (newText)=> {\n//     state.profilePage.newPostText = newText\n//     rerenderEntireTree(state)\n// }\n// export const subscribe = observer => {\n//     rerenderEntireTree = observer\n// }\n//  export default state","map":{"version":3,"sources":["/Volumes/Samsung_T5/mac/Programming/IT_Kamasutra/way_of_samuray/src/Redux/Redux.jsx"],"names":["ADD_POST","UPDATE_NEW_POST_TEXT","SEND_MESSAGE","UPDATE_NEW_MESSAGE_BODY","store","_state","profilePage","posts","id","message","like","newPostText","messagesPage","dialogs","name","messages","newMessageBody","sidebar","_callSubscriber","getState","subscribe","observer","dispatch","action","type","text","newPost","length","push","addPostActionCreate","onChengeElementActionCreate","sendMessageCreator","updateMessageCreator","window"],"mappings":"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2BAA2B,GAAIL,IAAD,KAAU;AAACD,EAAAA,IAAI,EAAEvB,oBAAP;AAA6BwB,EAAAA;AAA7B,CAAV,CAApC;AAGP,OAAO,MAAMM,kBAAkB,GAAG,OAAM;AAACP,EAAAA,IAAI,EAAEtB;AAAP,CAAN,CAA3B;AACP,OAAO,MAAM8B,oBAAoB,GAAIP,IAAD,KAAU;AAACD,EAAAA,IAAI,EAAErB,uBAAP;AAAgCsB,EAAAA;AAAhC,CAAV,CAA7B;AAGP,eAAerB,KAAf;AACA6B,MAAM,CAAC7B,KAAP,GAAeA,KAAf,C,CAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA","sourcesContent":["const ADD_POST = 'ADD-POST'\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\n\nconst SEND_MESSAGE = 'SEND-MESSAGE'\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY'\n\n\nconst store = {\n    _state: {\n        profilePage: {\n            posts: [\n                {\n                  id: 1,\n                  message: 'Hi, My name is Greg',\n                  like: '15'\n                },\n                {\n                  id: 2,\n                  message: 'This is my first post',\n                  like: '20'\n                }\n            ],\n            newPostText: ''\n         },\n         messagesPage: {\n            dialogs: [\n                {\n                    id: 1,\n                    name: 'Valera'\n                },\n                {\n                    id: 2,\n                    name: 'Mark'\n                },\n                {\n                    id: 3,\n                    name: 'Elena'\n                }\n            ],\n            messages: [\n                {\n                    id: 1,\n                    message: 'Hy My name is Petr'\n                },\n                {\n                    id: 2,\n                    message: 'MI dont belive youark'\n                },\n                {\n                    id: 3,\n                    message: 'Elena I dont belive you'\n                }\n            ],\n            newMessageBody: ''\n        },\n        sidebar: {}\n    },\n    _callSubscriber() {\n        return ('state changed')\n    },\n    getState() {\n        return this._state\n    },\n    subscribe(observer) {\n        this._callSubscriber = observer\n    },\n    dispatch(action) {\n\n        if (action.type === UPDATE_NEW_POST_TEXT) {\n            this._state.profilePage.newPostText = action.text\n            this._callSubscriber(this.getState())\n        } else if (action.type === ADD_POST) {\n            const newPost = {\n                id: this._state.profilePage.posts.length+1,\n                message: this._state.profilePage.newPostText,\n                like: 0\n            }\n            this._state.profilePage.posts.push(newPost)\n            this._state.profilePage.newPostText = ''\n            this._callSubscriber(this.getState())\n        } else if (action.type === SEND_MESSAGE) {\n            let newPost = {\n                id: this._state.messagesPage.messages.length+1,\n                message: this._state.messagesPage.newMessageBody\n            }\n            this._state.messagesPage.newMessageBody = ''\n            this._state.messagesPage.messages.push(newPost)\n            this._callSubscriber(this.getState())\n        } else if (action.type === UPDATE_NEW_MESSAGE_BODY) {\n            this._state.messagesPage.newMessageBody = action.text\n            this._callSubscriber(this.getState())\n        }\n    }\n}\n\n\n\nexport const addPostActionCreate = ()=> ({type: ADD_POST})\nexport const onChengeElementActionCreate = (text)=> ({type: UPDATE_NEW_POST_TEXT, text})\n\n\nexport const sendMessageCreator = ()=> ({type: SEND_MESSAGE})\nexport const updateMessageCreator = (text)=> ({type: UPDATE_NEW_MESSAGE_BODY, text})\n\n\nexport default store\nwindow.store = store\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//  const state = {\n//     profilePage: {\n//         posts: [\n//             {\n//               id: 1,\n//               message: 'Hi, My name is Greg',\n//               like: '15'\n//             },\n//             {\n//               id: 2,\n//               message: 'This is my first post',\n//               like: '20'\n//             }\n//         ],\n//         newPostText: ''\n//      },\n//      messagesPage: {\n//         dialogs: [\n//             {\n//                 id: 1,\n//                 name: 'Valera'\n//             },\n//             {\n//                 id: 2,\n//                 name: 'Mark'\n//             },\n//             {\n//                 id: 3,\n//                 name: 'Elena'\n//             }\n//         ],\n//         messages: [\n//             {\n//                 id: 1,\n//                 message: 'Hy My name is Petr'\n//             },\n//             {\n//                 id: 2,\n//                 message: 'MI dont belive youark'\n//             },\n//             {\n//                 id: 3,\n//                 message: 'Elena I dont belive you'\n//             }\n//         ]\n//     }\n// }\n\n// export const addPost = ()=> {\n//     const newPost = {\n//         id: state.profilePage.posts.length+1,\n//         message: state.profilePage.newPostText,\n//         like: 0\n//     }\n//     state.profilePage.posts.push(newPost)\n//     state.profilePage.newPostText = ''\n//     rerenderEntireTree(state)\n// }\n\n// export const updateNewPostText = (newText)=> {\n//     state.profilePage.newPostText = newText\n//     rerenderEntireTree(state)\n// }\n\n// export const subscribe = observer => {\n//     rerenderEntireTree = observer\n// }\n\n//  export default state"]},"metadata":{},"sourceType":"module"}